<%- include("partials/_header") %>

  <div class="container-fluid mt-4">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header bg-primary text-white d-flex justify-content-between">
            <h3 class="mb-0">Customer List</h3>
            <a href="/add-customers" class="btn btn-light ml-auto" data-toggle="tooltip" data-placement="top"
              title="Add">Add</a>
          </div>
          <div class="card-body table-responsive">
            <table id="customer-table" class="table table-bordered table-striped table-hover responsive_table">
              <thead class="thead-dark">
                <tr>
                  <th scope="col">No.</th>
                  <th scope="col">Name</th>
                  <th scope="col">Address</th>
                  <th scope="col">Phone</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>
                <% if (customers) { %>
                  <% for(var i=0; i < customers.length; i++) { %>
                    <tr>
                      <th scope="row">
                        <%= (i + 1) %>
                      </th>
                      <td>
                        <%= customers[i].name %>
                      </td>
                      <td>
                        <%= customers[i].address %>
                      </td>
                      <td>
                        <%= customers[i].phone %>
                      </td>
                      <td class="d-flex gap-2">
                        <a href="/update/<%= customers[i].id %>" class="btn btn-sm btn-info rounded">
                          <i class="fas fa-edit"></i>
                        </a>
                        <a href="/delete/<%= customers[i].id %>" class="btn btn-danger btn-sm rounded">
                          <i class="fas fa-trash"></i>
                        </a>
                      </td>
                    </tr>
                    <% } %>
                      <% } %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    $(document).ready(function () {
      $('#customer-table').DataTable({
        "paging": true,
        "lengthChange": true,
        "searching": true,
        "ordering": true,
        "info": true,
        "autoWidth": false
      });
    });
  </script>
  <%- include("partials/_footer") %>